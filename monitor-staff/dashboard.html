<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DTI Monitoring System - Monitor Staff Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      .sidebar-transition {
        transition: all 0.3s ease;
      }
      .icon-rotate {
        transition: transform 0.3s ease;
      }
      .icon-rotate.rotated {
        transform: rotate(180deg);
      }
      .nav-link {
        transition: all 0.2s ease;
      }
      .nav-link:hover {
        background-color: rgba(59, 130, 246, 0.1);
        padding-left: 1.5rem;
      }
      .nav-link.active {
        background-color: rgb(59, 130, 246);
        color: white;
        border-left: 4px solid white;
      }
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        align-items: center;
        justify-content: center;
      }
      .modal.show {
        display: flex;
      }
    </style>
  </head>
  <body class="bg-slate-50">
    <div class="flex h-screen">
      <!-- Sidebar -->
      <div
        id="sidebar"
        class="w-64 bg-white border-r border-slate-200 shadow-sm sidebar-transition"
      >
        <div class="p-6 border-b border-slate-200">
          <div class="flex items-center space-x-3">
            <div
              class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center"
            >
              <i class="fas fa-shield-alt text-white"></i>
            </div>
            <div>
              <h1 class="text-lg font-bold text-slate-900">DTI Monitor</h1>
              <p class="text-xs text-slate-500">Monitor Staff</p>
            </div>
          </div>
        </div>

        <!-- Navigation Menu -->
        <nav class="p-4 space-y-2">
          <!-- Dashboard -->
          <a
            href="#"
            class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50 bg-blue-50 text-blue-600"
          >
            <i class="fas fa-home w-5"></i>
            <span>Dashboard</span>
          </a>

          <!-- Monitoring Records -->
          <div>
            <button
              class="nav-link w-full flex items-center justify-between px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
              onclick="toggleSubmenu(this)"
            >
              <div class="flex items-center space-x-3">
                <i class="fas fa-eye w-5"></i>
                <span>Monitoring Records</span>
              </div>
              <i class="fas fa-chevron-down icon-rotate w-4"></i>
            </button>
            <div class="hidden submenu ml-8 space-y-1 mt-1">
              <a
                href="monitoring-records.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-list w-4"></i>
                <span>View Records</span>
              </a>
              <a
                href="create-monitoring-record.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-plus w-4"></i>
                <span>Create Record</span>
              </a>
            </div>
          </div>

          <!-- Reports -->
          <a
            href="monitoring-reports.html"
            class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
          >
            <i class="fas fa-chart-bar w-5"></i>
            <span>Reports</span>
          </a>
        </nav>

        <!-- User Profile -->
        <div
          class="absolute bottom-0 left-0 w-64 p-4 border-t border-slate-200 bg-white"
        >
          <div class="flex items-center space-x-3">
            <div
              class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"
            >
              <i class="fas fa-user text-blue-600"></i>
            </div>
            <div class="flex-1">
              <p class="text-sm font-medium text-slate-900">Pedro Morales</p>
              <p class="text-xs text-slate-500">Monitor Staff</p>
            </div>
            <button
              onclick="logout()"
              class="text-slate-400 hover:text-red-600 transition"
            >
              <i class="fas fa-sign-out-alt"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Top Navigation Bar -->
        <div
          class="bg-white border-b border-slate-200 shadow-sm px-8 py-4 flex items-center justify-between"
        >
          <div class="flex items-center space-x-4">
            <button
              onclick="toggleSidebar()"
              class="text-slate-600 hover:text-slate-900 transition"
            >
              <i class="fas fa-bars text-xl"></i>
            </button>
            <h2 class="text-2xl font-bold text-slate-900">Dashboard</h2>
          </div>
          <div class="flex items-center space-x-6">
            <button class="relative text-slate-600 hover:text-slate-900">
              <i class="fas fa-bell text-lg"></i>
              <span
                class="absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center"
                >4</span
              >
            </button>
            <button class="text-slate-600 hover:text-slate-900">
              <i class="fas fa-search text-lg"></i>
            </button>
          </div>
        </div>

        <!-- Content -->
        <div class="flex-1 overflow-auto">
          <div class="p-8">
            <!-- Welcome Card -->
            <div
              class="bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-sm text-white p-6 mb-8"
            >
              <h3 class="text-2xl font-bold mb-2">
                Welcome back, Pedro Morales!
              </h3>
              <p class="text-blue-100">
                You have 8 pending tasks and 3 new monitoring records to review
                today.
              </p>
            </div>

            <!-- Quick Stats -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-4"
              >
                <p class="text-slate-600 text-sm font-medium mb-2">
                  Active Records
                </p>
                <p class="text-3xl font-bold text-blue-600">24</p>
                <p class="text-xs text-slate-500 mt-2">↑ 3 this week</p>
              </div>
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-4"
              >
                <p class="text-slate-600 text-sm font-medium mb-2">
                  Pending Tasks
                </p>
                <p class="text-3xl font-bold text-orange-600">8</p>
                <p class="text-xs text-slate-500 mt-2">Due this week</p>
              </div>
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-4"
              >
                <p class="text-slate-600 text-sm font-medium mb-2">
                  Completed This Month
                </p>
                <p class="text-3xl font-bold text-green-600">47</p>
                <p class="text-xs text-slate-500 mt-2">↑ 12% vs last month</p>
              </div>
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-4"
              >
                <p class="text-slate-600 text-sm font-medium mb-2">
                  Violations Reported
                </p>
                <p class="text-3xl font-bold text-red-600">6</p>
                <p class="text-xs text-slate-500 mt-2">
                  Escalated to evaluation
                </p>
              </div>
            </div>

            <!-- Main Content Row -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
              <!-- Pending Tasks -->
              <div
                class="lg:col-span-2 bg-white rounded-lg shadow-sm border border-slate-200 p-6"
              >
                <div class="flex items-center justify-between mb-4">
                  <h3 class="text-lg font-bold text-slate-900">
                    Pending Tasks
                  </h3>
                  <a href="#" class="text-blue-600 hover:text-blue-800 text-sm"
                    >View All</a
                  >
                </div>
                <div class="space-y-3" id="pendingTasksList">
                  <!-- Tasks populated by JavaScript -->
                </div>
              </div>

              <!-- Quick Actions -->
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-6"
              >
                <h3 class="text-lg font-bold text-slate-900 mb-4">
                  Quick Actions
                </h3>
                <div class="space-y-2">
                  <button
                    onclick="openCreateRecordModal()"
                    class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 transition"
                  >
                    <i class="fas fa-plus w-5"></i>
                    <span>Create Record</span>
                  </button>
                  <button
                    class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 transition"
                  >
                    <i class="fas fa-check w-5"></i>
                    <span>Complete Task</span>
                  </button>
                  <button
                    class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg bg-orange-50 text-orange-600 hover:bg-orange-100 transition"
                  >
                    <i class="fas fa-flag w-5"></i>
                    <span>Report Violation</span>
                  </button>
                  <button
                    class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg bg-purple-50 text-purple-600 hover:bg-purple-100 transition"
                  >
                    <i class="fas fa-chart-bar w-5"></i>
                    <span>View Reports</span>
                  </button>
                </div>
              </div>
            </div>

            <!-- Recent Monitoring Records -->
            <div
              class="bg-white rounded-lg shadow-sm border border-slate-200 p-6 mb-8"
            >
              <h3 class="text-lg font-bold text-slate-900 mb-4">
                Recent Monitoring Records
              </h3>
              <div class="overflow-x-auto">
                <table class="w-full text-sm">
                  <thead>
                    <tr class="border-b border-slate-200">
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Record ID
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Platform
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Seller
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Product
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Date
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Status
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Action
                      </th>
                    </tr>
                  </thead>
                  <tbody id="recordsTable">
                    <!-- Records populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Statistics Row -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- Monthly Activity -->
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-6"
              >
                <h3 class="text-lg font-bold text-slate-900 mb-4">
                  Records by Status
                </h3>
                <div class="space-y-3">
                  <div>
                    <div class="flex justify-between mb-1">
                      <span class="text-sm text-slate-700">Pending Review</span>
                      <span class="text-sm font-bold text-slate-900">12</span>
                    </div>
                    <div
                      class="w-full h-2 bg-slate-200 rounded-full overflow-hidden"
                    >
                      <div
                        class="h-full bg-orange-500"
                        style="width: 50%"
                      ></div>
                    </div>
                  </div>
                  <div>
                    <div class="flex justify-between mb-1">
                      <span class="text-sm text-slate-700">In Progress</span>
                      <span class="text-sm font-bold text-slate-900">8</span>
                    </div>
                    <div
                      class="w-full h-2 bg-slate-200 rounded-full overflow-hidden"
                    >
                      <div class="h-full bg-blue-500" style="width: 33%"></div>
                    </div>
                  </div>
                  <div>
                    <div class="flex justify-between mb-1">
                      <span class="text-sm text-slate-700">Completed</span>
                      <span class="text-sm font-bold text-slate-900">4</span>
                    </div>
                    <div
                      class="w-full h-2 bg-slate-200 rounded-full overflow-hidden"
                    >
                      <div class="h-full bg-green-500" style="width: 17%"></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Top Platforms -->
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-6"
              >
                <h3 class="text-lg font-bold text-slate-900 mb-4">
                  Top Monitored Platforms
                </h3>
                <div class="space-y-3">
                  <div class="flex items-center justify-between">
                    <span class="text-sm text-slate-700">Lazada</span>
                    <span class="text-sm font-bold text-slate-900"
                      >8 records</span
                    >
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-sm text-slate-700">Shopee</span>
                    <span class="text-sm font-bold text-slate-900"
                      >7 records</span
                    >
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-sm text-slate-700"
                      >Facebook Marketplace</span
                    >
                    <span class="text-sm font-bold text-slate-900"
                      >5 records</span
                    >
                  </div>
                  <div class="flex items-center justify-between">
                    <span class="text-sm text-slate-700">TikTok Shop</span>
                    <span class="text-sm font-bold text-slate-900"
                      >4 records</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Create Monitoring Record Modal -->
    <div id="createRecordModal" class="modal">
      <div
        class="bg-white rounded-lg shadow-lg w-full max-w-2xl mx-4 max-h-screen overflow-auto"
      >
        <div
          class="border-b border-slate-200 px-6 py-4 flex items-center justify-between"
        >
          <h3 class="text-xl font-bold text-slate-900">
            Create Monitoring Record
          </h3>
          <button
            onclick="closeModal('createRecordModal')"
            class="text-slate-400 hover:text-slate-600"
          >
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <div class="p-6 max-h-96 overflow-auto">
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Platform</label
              >
              <select
                id="recordPlatform"
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                <option value="">Select platform</option>
                <option value="Lazada">Lazada</option>
                <option value="Shopee">Shopee</option>
                <option value="Facebook">Facebook Marketplace</option>
                <option value="TikTok">TikTok Shop</option>
                <option value="Carousell">Carousell</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Seller Name</label
              >
              <input
                type="text"
                id="recordSeller"
                placeholder="Store or seller name"
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Product Name</label
              >
              <input
                type="text"
                id="recordProduct"
                placeholder="Product being monitored"
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Product URL</label
              >
              <input
                type="url"
                id="recordUrl"
                placeholder="https://..."
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Violation Type</label
              >
              <select
                id="recordViolation"
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                <option value="">Select violation (if any)</option>
                <option value="counterfeit">Counterfeit Products</option>
                <option value="prohibited">Prohibited Items</option>
                <option value="misleading">Misleading Description</option>
                <option value="none">No Violation</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Remarks</label
              >
              <textarea
                id="recordRemarks"
                placeholder="Additional observations..."
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                rows="3"
              ></textarea>
            </div>
          </div>
        </div>
        <div
          class="bg-slate-50 px-6 py-4 border-t border-slate-200 flex justify-end space-x-3"
        >
          <button
            onclick="closeModal('createRecordModal')"
            class="px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50"
          >
            Cancel
          </button>
          <button
            onclick="saveMonitoringRecord()"
            class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition"
          >
            Create Record
          </button>
        </div>
      </div>
    </div>

    <script>
      // Sample data
      const pendingTasks = [
        {
          id: "TSK-001",
          title: "Review Lazada listing MON-1847",
          dueDate: "2025-12-12",
          priority: "high",
        },
        {
          id: "TSK-002",
          title: "Monitor Shopee counterfeit report",
          dueDate: "2025-12-13",
          priority: "high",
        },
        {
          id: "TSK-003",
          title: "Verify product authenticity MON-1845",
          dueDate: "2025-12-14",
          priority: "medium",
        },
        {
          id: "TSK-004",
          title: "Document prohibited items on Facebook",
          dueDate: "2025-12-14",
          priority: "medium",
        },
        {
          id: "TSK-005",
          title: "Check TikTok Shop compliance",
          dueDate: "2025-12-15",
          priority: "low",
        },
        {
          id: "TSK-006",
          title: "Follow up on seller response",
          dueDate: "2025-12-15",
          priority: "low",
        },
        {
          id: "TSK-007",
          title: "Take screenshots for evidence",
          dueDate: "2025-12-16",
          priority: "medium",
        },
        {
          id: "TSK-008",
          title: "Prepare monitoring report",
          dueDate: "2025-12-16",
          priority: "low",
        },
      ];

      const recentRecords = [
        {
          id: "MON-1849",
          platform: "Lazada",
          seller: "TechShop PH",
          product: "Fake AirPods Pro",
          date: "2025-12-12",
          status: "pending",
        },
        {
          id: "MON-1848",
          platform: "Shopee",
          seller: "Fashion Hub",
          product: "Counterfeit Nike",
          date: "2025-12-12",
          status: "in_progress",
        },
        {
          id: "MON-1847",
          platform: "Facebook",
          seller: "Gray Market",
          product: "Unauthorized Electronics",
          date: "2025-12-11",
          status: "in_progress",
        },
        {
          id: "MON-1846",
          platform: "Carousell",
          seller: "Brand Store",
          product: "Original Headphones",
          date: "2025-12-11",
          status: "completed",
        },
        {
          id: "MON-1845",
          platform: "TikTok",
          seller: "Smart Seller",
          product: "Fake Designer Bags",
          date: "2025-12-10",
          status: "pending",
        },
      ];

      // Get priority badge
      function getPriorityBadge(priority) {
        const priorityMap = {
          high: { color: "red", text: "High" },
          medium: { color: "orange", text: "Medium" },
          low: { color: "blue", text: "Low" },
        };
        return priorityMap[priority] || { color: "slate", text: "Unknown" };
      }

      // Get status badge
      function getStatusBadge(status) {
        const statusMap = {
          pending: { color: "orange", text: "Pending" },
          in_progress: { color: "blue", text: "In Progress" },
          completed: { color: "green", text: "Completed" },
        };
        return statusMap[status] || { color: "slate", text: "Unknown" };
      }

      // Render pending tasks
      function renderPendingTasks() {
        const list = document.getElementById("pendingTasksList");
        list.innerHTML = "";

        pendingTasks.forEach((task) => {
          const priorityBadge = getPriorityBadge(task.priority);
          const taskItem = `
                    <div class="flex items-start space-x-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition cursor-pointer">
                        <input type="checkbox" class="mt-1 w-4 h-4 accent-blue-600">
                        <div class="flex-1">
                            <p class="font-medium text-slate-900">${task.title}</p>
                            <div class="flex items-center space-x-2 mt-1">
                                <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-${priorityBadge.color}-100 text-${priorityBadge.color}-800">
                                    ${priorityBadge.text}
                                </span>
                                <span class="text-xs text-slate-600">${task.dueDate}</span>
                            </div>
                        </div>
                    </div>
                `;
          list.innerHTML += taskItem;
        });
      }

      // Render recent records
      function renderRecentRecords() {
        const tbody = document.getElementById("recordsTable");
        tbody.innerHTML = "";

        recentRecords.forEach((record) => {
          const statusBadge = getStatusBadge(record.status);
          const row = `
                    <tr class="border-b border-slate-100 hover:bg-slate-50 transition">
                        <td class="py-3 px-4 font-medium text-blue-600">${record.id}</td>
                        <td class="py-3 px-4 text-slate-700">${record.platform}</td>
                        <td class="py-3 px-4 text-slate-700">${record.seller}</td>
                        <td class="py-3 px-4 text-slate-700">${record.product}</td>
                        <td class="py-3 px-4 text-slate-700">${record.date}</td>
                        <td class="py-3 px-4">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${statusBadge.color}-100 text-${statusBadge.color}-800">
                                ${statusBadge.text}
                            </span>
                        </td>
                        <td class="py-3 px-4 space-x-2">
                            <button class="text-blue-600 hover:text-blue-800 transition text-sm">
                                <i class="fas fa-eye"></i> View
                            </button>
                        </td>
                    </tr>
                `;
          tbody.innerHTML += row;
        });
      }

      // Open create record modal
      function openCreateRecordModal() {
        document.getElementById("createRecordModal").classList.add("show");
      }

      // Save monitoring record
      function saveMonitoringRecord() {
        const platform = document.getElementById("recordPlatform").value;
        const seller = document.getElementById("recordSeller").value;
        const product = document.getElementById("recordProduct").value;
        const url = document.getElementById("recordUrl").value;
        const violation = document.getElementById("recordViolation").value;
        const remarks = document.getElementById("recordRemarks").value;

        if (!platform || !seller || !product || !url) {
          alert("Please fill all required fields");
          return;
        }

        const newRecord = {
          id: "MON-" + String(recentRecords.length + 1850).padStart(4, "0"),
          platform,
          seller,
          product,
          date: new Date().toISOString().split("T")[0],
          status: "pending",
        };

        recentRecords.unshift(newRecord);
        renderRecentRecords();
        closeModal("createRecordModal");
        alert("Monitoring record created successfully!");

        // Reset form
        document.getElementById("recordPlatform").value = "";
        document.getElementById("recordSeller").value = "";
        document.getElementById("recordProduct").value = "";
        document.getElementById("recordUrl").value = "";
        document.getElementById("recordViolation").value = "";
        document.getElementById("recordRemarks").value = "";
      }

      // Modal functions
      function closeModal(modalId) {
        document.getElementById(modalId).classList.remove("show");
      }

      // Toggle sidebar
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        if (sidebar.style.marginLeft === "-16rem") {
          sidebar.style.marginLeft = "0";
        } else {
          sidebar.style.marginLeft = "-16rem";
        }
      }

      // Toggle submenu
      function toggleSubmenu(button) {
        const submenu = button.nextElementSibling;
        const icon = button.querySelector(".icon-rotate");

        if (submenu.classList.contains("hidden")) {
          submenu.classList.remove("hidden");
          icon.classList.add("rotated");
        } else {
          submenu.classList.add("hidden");
          icon.classList.remove("rotated");
        }
      }

      // Logout
      function logout() {
        window.location.href = "../index.html";
      }

      // Initialize
      renderPendingTasks();
      renderRecentRecords();
    </script>
  </body>
</html>
