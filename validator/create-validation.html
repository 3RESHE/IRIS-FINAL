<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DTI Validation System - Create Validation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .sidebar-transition { transition: all 0.3s ease; }
        .icon-rotate { transition: transform 0.3s ease; }
        .icon-rotate.rotated { transform: rotate(180deg); }
        .nav-link { transition: all 0.2s ease; }
        .nav-link:hover { background-color: rgba(59, 130, 246, 0.1); padding-left: 1.5rem; }
        .form-section { border: 1px solid #e2e8f0; border-radius: 0.5rem; padding: 1.5rem; margin-bottom: 1.5rem; background-color: #ffffff; }
        .form-section-title { font-size: 1rem; font-weight: 700; color: #1e293b; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
        .required-field::after { content: " *"; color: #dc2626; }
        .input-field { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #cbd5e1; border-radius: 0.375rem; font-size: 0.875rem; transition: border-color 0.2s; }
        .input-field:focus { outline: none; border-color: #16a34a; box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1); }
        .textarea-field { width: 100%; padding: 0.75rem; border: 1px solid #cbd5e1; border-radius: 0.375rem; font-size: 0.875rem; resize: vertical; min-height: 120px; }
        .textarea-field:focus { outline: none; border-color: #16a34a; box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1); }
    </style>
</head>
<body class="bg-slate-50">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div id="sidebar" class="w-64 bg-white border-r border-slate-200 shadow-sm sidebar-transition">
            <div class="p-6 border-b border-slate-200">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-clipboard-check text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-slate-900">DTI Validator</h1>
                        <p class="text-xs text-slate-500">Verification Team</p>
                    </div>
                </div>
            </div>

            <nav class="p-4 space-y-2">
                <a href="dashboard.html" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50">
                    <i class="fas fa-home w-5"></i>
                    <span>Dashboard</span>
                </a>

                <div>
                    <button class="nav-link w-full flex items-center justify-between px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50" onclick="toggleSubmenu(this)">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-tasks w-5"></i>
                            <span>Validations</span>
                        </div>
                        <i class="fas fa-chevron-down icon-rotate rotated w-4"></i>
                    </button>
                    <div class="submenu ml-8 space-y-1 mt-1">
                        <a href="pending-validations.html" class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm">
                            <i class="fas fa-hourglass-half w-4"></i>
                            <span>Pending Validations</span>
                        </a>
                        <a href="create-validation.html" class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm bg-green-50 text-green-600">
                            <i class="fas fa-check-double w-4"></i>
                            <span>Create Validation</span>
                        </a>
                    </div>
                </div>

                <a href="validation-history.html" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50">
                    <i class="fas fa-history w-5"></i>
                    <span>History</span>
                </a>

                <a href="validation-reports.html" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50">
                    <i class="fas fa-chart-bar w-5"></i>
                    <span>Reports</span>
                </a>
            </nav>

            <div class="absolute bottom-0 left-0 w-64 p-4 border-t border-slate-200 bg-white">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-green-600"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-slate-900">Maria Santos</p>
                        <p class="text-xs text-slate-500">Validator</p>
                    </div>
                    <button onclick="logout()" class="text-slate-400 hover:text-red-600 transition">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Navigation -->
            <div class="bg-white border-b border-slate-200 shadow-sm px-8 py-4 flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button onclick="toggleSidebar()" class="text-slate-600 hover:text-slate-900 transition">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                    <h2 class="text-2xl font-bold text-slate-900">Create Validation</h2>
                </div>
            </div>

            <!-- Content -->
            <div class="flex-1 overflow-auto">
                <div class="p-8 max-w-4xl mx-auto">
                    <!-- Order Info Card -->
                    <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6 mb-8">
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div>
                                <p class="text-xs text-green-600 font-medium mb-1">DTS Number</p>
                                <p class="font-bold text-slate-900" id="dtsNum">DTS-PHI-2025-000287</p>
                            </div>
                            <div>
                                <p class="text-xs text-green-600 font-medium mb-1">Order Type</p>
                                <p class="font-bold text-slate-900" id="orderType">Compliance Order</p>
                            </div>
                            <div>
                                <p class="text-xs text-green-600 font-medium mb-1">Seller</p>
                                <p class="font-bold text-slate-900" id="seller">Fashion Hub PH</p>
                            </div>
                            <div>
                                <p class="text-xs text-green-600 font-medium mb-1">Deadline</p>
                                <p class="font-bold text-red-600" id="deadline">Dec 15, 2025</p>
                            </div>
                        </div>
                    </div>

                    <!-- Validation Form -->
                    <form id="validationForm">
                        <!-- Compliance Status -->
                        <div class="form-section">
                            <div class="form-section-title">
                                <i class="fas fa-check-circle text-green-600"></i>
                                Compliance Status
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2 required-field">Validation Status</label>
                                    <select id="validationStatus" class="input-field" onchange="updateFieldVisibility()">
                                        <option value="">Select Status</option>
                                        <option value="active">Active - Still Violating</option>
                                        <option value="inactive">Inactive - Successfully Removed/Complied</option>
                                        <option value="non-compliant">Non-Compliant - Partially Complied</option>
                                        <option value="not-included">Not Included - Not Applicable</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2 required-field">URL Status</label>
                                    <select id="urlStatus" class="input-field">
                                        <option value="">Select URL Status</option>
                                        <option value="still-active">Still Active - Product Accessible</option>
                                        <option value="removed">Removed - Product No Longer Listed</option>
                                        <option value="compliant">Compliant - Product Updated</option>
                                    </select>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-2">Validation Verification Link</label>
                                <input type="url" id="verificationUrl" class="input-field" placeholder="Provide proof URL or screenshot reference...">
                            </div>
                        </div>

                        <!-- Timeline -->
                        <div class="form-section">
                            <div class="form-section-title">
                                <i class="fas fa-clock text-green-600"></i>
                                Timeline
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2 required-field">Order Issued Date</label>
                                    <input type="date" id="orderDate" class="input-field" value="2025-12-13" readonly style="background-color: #f1f5f9;">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2 required-field">Validation Date</label>
                                    <input type="date" id="validationDate" class="input-field" value="2025-12-15">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-2">Time to Comply (Days)</label>
                                    <input type="number" id="timeToComply" class="input-field" readonly placeholder="Auto-calculated" style="background-color: #f1f5f9;">
                                </div>
                            </div>
                        </div>

                        <!-- Evidence -->
                        <div class="form-section">
                            <div class="form-section-title">
                                <i class="fas fa-camera text-green-600"></i>
                                Evidence & Screenshots
                            </div>
                            <div class="border-2 border-dashed border-slate-300 rounded-lg p-6 text-center cursor-pointer hover:bg-slate-50 transition">
                                <i class="fas fa-cloud-upload-alt text-2xl text-slate-400 mb-2"></i>
                                <p class="text-sm font-medium text-slate-700">Upload screenshots as proof</p>
                                <p class="text-xs text-slate-600 mt-1">Current state of product page, URL verification, etc.</p>
                                <input type="file" id="evidence" multiple class="hidden">
                            </div>
                        </div>

                        <!-- Remarks -->
                        <div class="form-section">
                            <div class="form-section-title">
                                <i class="fas fa-comment-dots text-green-600"></i>
                                Validation Remarks
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-2">Detailed Findings</label>
                                <textarea id="remarks" class="textarea-field" placeholder="Document your validation findings, observations, and any issues encountered..."></textarea>
                            </div>
                        </div>

                        <!-- Escalation -->
                        <div class="form-section" id="escalationSection" style="display: none;">
                            <div class="form-section-title">
                                <i class="fas fa-exclamation-triangle text-red-600"></i>
                                Escalation Required
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-2">Escalation Reason</label>
                                <textarea id="escalationReason" class="textarea-field" placeholder="Explain why this case needs escalation for further action..."></textarea>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex justify-between gap-4 mt-8 mb-8">
                            <button type="button" onclick="goBack()" class="px-6 py-2 border border-slate-300 rounded-lg text-slate-700 font-medium hover:bg-slate-50 transition flex items-center gap-2">
                                <i class="fas fa-arrow-left"></i>
                                Back
                            </button>
                            <div class="flex gap-4">
                                <button type="button" onclick="saveDraft()" class="px-6 py-2 border border-orange-300 text-orange-600 rounded-lg font-medium hover:bg-orange-50 transition flex items-center gap-2">
                                    <i class="fas fa-save"></i>
                                    Save Draft
                                </button>
                                <button type="button" onclick="submitValidation()" class="px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition flex items-center gap-2">
                                    <i class="fas fa-check-double"></i>
                                    Submit Validation
                                </button>
                            </div>
                        </div>

                        <!-- Success Message -->
                        <div id="successMessage" class="hidden bg-green-50 border border-green-200 rounded-lg p-4 mb-4">
                            <div class="flex items-start gap-3">
                                <i class="fas fa-check-circle text-green-600 text-xl mt-0.5"></i>
                                <div>
                                    <h4 class="font-bold text-green-900">Validation Submitted Successfully!</h4>
                                    <p class="text-sm text-green-800 mt-1">Status: <span id="resultStatus" class="font-mono font-bold"></span></p>
                                    <div class="flex gap-2 mt-3">
                                        <button onclick="window.location.href='pending-validations.html'" class="text-sm px-4 py-1 bg-green-600 text-white rounded hover:bg-green-700">
                                            Back to Pending
                                        </button>
                                        <button onclick="window.location.href='validation-history.html'" class="text-sm px-4 py-1 bg-green-100 text-green-800 rounded hover:bg-green-200">
                                            View History
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        const orderData = {
            'DTS-PHI-2025-000287': { orderType: 'Compliance Order', seller: 'Fashion Hub PH', deadline: 'Dec 15, 2025', orderDate: '2025-12-13' },
            'DTS-PHI-2025-000286': { orderType: 'Takedown Order', seller: 'TechShop PH', deadline: 'Dec 15, 2025', orderDate: '2025-12-13' },
            'DTS-PHI-2025-000285': { orderType: 'Takedown Order', seller: 'Gray Market Electronics', deadline: 'Dec 14, 2025', orderDate: '2025-12-12' }
        };

        function loadOrder() {
            const urlParams = new URLSearchParams(window.location.search);
            const dts = urlParams.get('dts') || 'DTS-PHI-2025-000287';
            const order = orderData[dts];

            if (order) {
                document.getElementById('dtsNum').textContent = dts;
                document.getElementById('orderType').textContent = order.orderType;
                document.getElementById('seller').textContent = order.seller;
                document.getElementById('deadline').textContent = order.deadline;
                document.getElementById('orderDate').value = order.orderDate;
            }
        }

        function updateFieldVisibility() {
            const status = document.getElementById('validationStatus').value;
            const escalation = document.getElementById('escalationSection');
            
            if (status === 'active' || status === 'non-compliant') {
                escalation.style.display = 'block';
            } else {
                escalation.style.display = 'none';
            }
        }

        function submitValidation() {
            const status = document.getElementById('validationStatus').value;
            const urlStatus = document.getElementById('urlStatus').value;
            const remarks = document.getElementById('remarks').value;

            if (!status || !urlStatus || !remarks) {
                alert('Please fill all required fields');
                return;
            }

            const statusLabel = status === 'active' ? 'Active - Violation Continues' 
                              : status === 'inactive' ? 'Inactive - Successfully Complied'
                              : status === 'non-compliant' ? 'Non-Compliant - Partial Compliance'
                              : 'Not Included';

            document.getElementById('resultStatus').textContent = statusLabel;
            document.getElementById('successMessage').classList.remove('hidden');
            document.getElementById('validationForm').style.display = 'none';
        }

        function saveDraft() {
            alert('Validation saved as draft. You can continue editing later.');
        }

        function goBack() {
            window.location.href = 'pending-validations.html';
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            if (sidebar.style.marginLeft === '-16rem') {
                sidebar.style.marginLeft = '0';
            } else {
                sidebar.style.marginLeft = '-16rem';
            }
        }

        function toggleSubmenu(button) {
            const submenu = button.nextElementSibling;
            const icon = button.querySelector('.icon-rotate');

            if (submenu.classList.contains('hidden')) {
                submenu.classList.remove('hidden');
                icon.classList.add('rotated');
            } else {
                submenu.classList.add('hidden');
                icon.classList.remove('rotated');
            }
        }

        function logout() {
            window.location.href = '../index.html';
        }

        document.addEventListener('DOMContentLoaded', loadOrder);
    </script>
</body>
</html>