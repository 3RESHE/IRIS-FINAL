<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DTI Monitoring System - Assignment Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      .sidebar-transition {
        transition: all 0.3s ease;
      }
      .icon-rotate {
        transition: transform 0.3s ease;
      }
      .icon-rotate.rotated {
        transform: rotate(180deg);
      }
      .nav-link {
        transition: all 0.2s ease;
      }
      .nav-link:hover {
        background-color: rgba(59, 130, 246, 0.1);
        padding-left: 1.5rem;
      }
      .nav-link.active {
        background-color: rgb(59, 130, 246);
        color: white;
        border-left: 4px solid white;
      }
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        align-items: center;
        justify-content: center;
      }
      .modal.show {
        display: flex;
      }
    </style>
  </head>
  <body class="bg-slate-50">
    <div class="flex h-screen">
      <!-- Sidebar -->
      <div
        id="sidebar"
        class="w-64 bg-white border-r border-slate-200 shadow-sm sidebar-transition"
      >
        <div class="p-6 border-b border-slate-200">
          <div class="flex items-center space-x-3">
            <div
              class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center"
            >
              <i class="fas fa-shield-alt text-white"></i>
            </div>
            <div>
              <h1 class="text-lg font-bold text-slate-900">DTI Monitor</h1>
              <p class="text-xs text-slate-500">Admin Panel</p>
            </div>
          </div>
        </div>

        <!-- Navigation Menu -->
        <nav class="p-4 space-y-2">
          <!-- Dashboard -->
          <a
            href="dashboard.html"
            class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
          >
            <i class="fas fa-home w-5"></i>
            <span>Dashboard</span>
          </a>

          <!-- Monitoring -->
          <div>
            <button
              class="nav-link w-full flex items-center justify-between px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
              onclick="toggleSubmenu(this)"
            >
              <div class="flex items-center space-x-3">
                <i class="fas fa-eye w-5"></i>
                <span>Monitoring</span>
              </div>
              <i class="fas fa-chevron-down icon-rotate w-4"></i>
            </button>
            <div class="hidden submenu ml-8 space-y-1 mt-1">
              <a
                href="monitoring-records.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-list w-4"></i>
                <span>Records</span>
              </a>
            </div>
          </div>

          <!-- Assignments -->
          <div>
            <button
              class="nav-link w-full flex items-center justify-between px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
              onclick="toggleSubmenu(this)"
            >
              <div class="flex items-center space-x-3">
                <i class="fas fa-tasks w-5"></i>
                <span>Assignments</span>
              </div>
              <i class="fas fa-chevron-down icon-rotate rotated w-4"></i>
            </button>
            <div class="submenu ml-8 space-y-1 mt-1">
              <a
                href="assignment-management.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm bg-blue-50 text-blue-600"
              >
                <i class="fas fa-list w-4"></i>
                <span>All Assignments</span>
              </a>
            </div>
          </div>

          <!-- Evaluations -->
          <div>
            <button
              class="nav-link w-full flex items-center justify-between px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
              onclick="toggleSubmenu(this)"
            >
              <div class="flex items-center space-x-3">
                <i class="fas fa-check-circle w-5"></i>
                <span>Evaluations</span>
              </div>
              <i class="fas fa-chevron-down icon-rotate w-4"></i>
            </button>
            <div class="hidden submenu ml-8 space-y-1 mt-1">
              <a
                href="evaluation-records.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-list w-4"></i>
                <span>Records</span>
              </a>
              <a
                href="issued-orders.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-file-alt w-4"></i>
                <span>Orders</span>
              </a>
            </div>
          </div>

          <!-- Validations -->
          <div>
            <button
              class="nav-link w-full flex items-center justify-between px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
              onclick="toggleSubmenu(this)"
            >
              <div class="flex items-center space-x-3">
                <i class="fas fa-clipboard-check w-5"></i>
                <span>Validations</span>
              </div>
              <i class="fas fa-chevron-down icon-rotate w-4"></i>
            </button>
            <div class="hidden submenu ml-8 space-y-1 mt-1">
              <a
                href="validation-records.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-list w-4"></i>
                <span>All Records</span>
              </a>
            </div>
          </div>

          <!-- Escalations -->
          <a
            href="escalation-management.html"
            class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
          >
            <i class="fas fa-exclamation-circle w-5"></i>
            <span>Escalations</span>
          </a>

          <!-- Reports -->
          <a
            href="reporting-analytics.html"
            class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
          >
            <i class="fas fa-chart-bar w-5"></i>
            <span>Reports</span>
          </a>

          <!-- Divider -->
          <div class="my-4 border-t border-slate-200"></div>

          <!-- Configuration -->
          <div>
            <button
              class="nav-link w-full flex items-center justify-between px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50"
              onclick="toggleSubmenu(this)"
            >
              <div class="flex items-center space-x-3">
                <i class="fas fa-cog w-5"></i>
                <span>Configuration</span>
              </div>
              <i class="fas fa-chevron-down icon-rotate w-4"></i>
            </button>
            <div class="hidden submenu ml-8 space-y-1 mt-1">
              <a
                href="user-management.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-users w-4"></i>
                <span>Users</span>
              </a>
              <a
                href="geographic-management.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-map-marker-alt w-4"></i>
                <span>Geographic</span>
              </a>
              <a
                href="platform-management.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-store w-4"></i>
                <span>Platforms</span>
              </a>
              <a
                href="category-management.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-tag w-4"></i>
                <span>Categories</span>
              </a>
              <a
                href="audit-compliance.html"
                class="nav-link flex items-center space-x-3 px-4 py-2 rounded-lg text-slate-600 text-sm"
              >
                <i class="fas fa-history w-4"></i>
                <span>Audit Log</span>
              </a>
            </div>
          </div>
        </nav>

        <!-- User Profile -->
        <div
          class="absolute bottom-0 left-0 w-64 p-4 border-t border-slate-200 bg-white"
        >
          <div class="flex items-center space-x-3">
            <div
              class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"
            >
              <i class="fas fa-user text-blue-600"></i>
            </div>
            <div class="flex-1">
              <p class="text-sm font-medium text-slate-900">Admin User</p>
              <p class="text-xs text-slate-500">Administrator</p>
            </div>
            <button
              onclick="logout()"
              class="text-slate-400 hover:text-red-600 transition"
            >
              <i class="fas fa-sign-out-alt"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Top Navigation Bar -->
        <div
          class="bg-white border-b border-slate-200 shadow-sm px-8 py-4 flex items-center justify-between"
        >
          <div class="flex items-center space-x-4">
            <button
              onclick="toggleSidebar()"
              class="text-slate-600 hover:text-slate-900 transition"
            >
              <i class="fas fa-bars text-xl"></i>
            </button>
            <h2 class="text-2xl font-bold text-slate-900">
              Assignment Management
            </h2>
          </div>
          <div class="flex items-center space-x-6">
            <button class="relative text-slate-600 hover:text-slate-900">
              <i class="fas fa-bell text-lg"></i>
              <span
                class="absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center"
                >5</span
              >
            </button>
            <button class="text-slate-600 hover:text-slate-900">
              <i class="fas fa-search text-lg"></i>
            </button>
          </div>
        </div>

        <!-- Content -->
        <div class="flex-1 overflow-auto">
          <div class="p-8">
            <!-- Quick Stats -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-4"
              >
                <p class="text-slate-600 text-sm font-medium mb-2">
                  Total Assignments
                </p>
                <p class="text-3xl font-bold text-slate-900">156</p>
              </div>
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-4"
              >
                <p class="text-slate-600 text-sm font-medium mb-2">Pending</p>
                <p class="text-3xl font-bold text-orange-600">42</p>
              </div>
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-4"
              >
                <p class="text-slate-600 text-sm font-medium mb-2">
                  In Progress
                </p>
                <p class="text-3xl font-bold text-blue-600">78</p>
              </div>
              <div
                class="bg-white rounded-lg shadow-sm border border-slate-200 p-4"
              >
                <p class="text-slate-600 text-sm font-medium mb-2">Completed</p>
                <p class="text-3xl font-bold text-green-600">36</p>
              </div>
            </div>

            <!-- Filters Section -->
            <div
              class="bg-white rounded-lg shadow-sm border border-slate-200 p-6 mb-6"
            >
              <h3 class="text-lg font-bold text-slate-900 mb-4">Filters</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                <!-- Search -->
                <div>
                  <label class="block text-sm font-medium text-slate-700 mb-2"
                    >Search</label
                  >
                  <input
                    type="text"
                    id="searchInput"
                    placeholder="Assignment ID, Evaluator..."
                    class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>

                <!-- Status Filter -->
                <div>
                  <label class="block text-sm font-medium text-slate-700 mb-2"
                    >Status</label
                  >
                  <select
                    id="statusFilter"
                    class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">All Status</option>
                    <option value="pending">Pending</option>
                    <option value="in_progress">In Progress</option>
                    <option value="completed">Completed</option>
                  </select>
                </div>

                <!-- Priority Filter -->
                <div>
                  <label class="block text-sm font-medium text-slate-700 mb-2"
                    >Priority</label
                  >
                  <select
                    id="priorityFilter"
                    class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">All Priority</option>
                    <option value="urgent">Urgent</option>
                    <option value="normal">Normal</option>
                    <option value="low">Low</option>
                  </select>
                </div>

                <!-- Evaluator Filter -->
                <div>
                  <label class="block text-sm font-medium text-slate-700 mb-2"
                    >Evaluator</label
                  >
                  <select
                    id="evaluatorFilter"
                    class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">All Evaluators</option>
                    <option value="Maria Santos">Maria Santos</option>
                    <option value="Juan Dela Cruz">Juan Dela Cruz</option>
                    <option value="Ana Garcia">Ana Garcia</option>
                    <option value="Jose Rodriguez">Jose Rodriguez</option>
                  </select>
                </div>

                <!-- Actions -->
                <div class="flex items-end gap-2">
                  <button
                    onclick="filterAssignments()"
                    class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition"
                  >
                    <i class="fas fa-search mr-2"></i>Filter
                  </button>
                </div>
              </div>
            </div>

            <!-- Assignments Table -->
            <div
              class="bg-white rounded-lg shadow-sm border border-slate-200 p-6"
            >
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-bold text-slate-900">
                  All Assignments
                </h3>
                <button
                  onclick="openAssignModal()"
                  class="flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition text-sm"
                >
                  <i class="fas fa-plus"></i>
                  <span>New Assignment</span>
                </button>
              </div>

              <div class="overflow-x-auto">
                <table class="w-full text-sm">
                  <thead>
                    <tr class="border-b border-slate-200">
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Assignment ID
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Monitoring Record
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Assigned To
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Priority
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Status
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Assigned Date
                      </th>
                      <th
                        class="text-left py-3 px-4 font-medium text-slate-700"
                      >
                        Action
                      </th>
                    </tr>
                  </thead>
                  <tbody id="assignmentsTable">
                    <!-- Assignments populated by JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Assign Modal -->
    <div id="assignModal" class="modal">
      <div class="bg-white rounded-lg shadow-lg w-full max-w-2xl mx-4">
        <div
          class="border-b border-slate-200 px-6 py-4 flex items-center justify-between"
        >
          <h3 class="text-xl font-bold text-slate-900">
            Create New Assignment
          </h3>
          <button
            onclick="closeModal('assignModal')"
            class="text-slate-400 hover:text-slate-600"
          >
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <div class="p-6 max-h-96 overflow-auto">
          <div class="space-y-4">
            <!-- Monitoring Record -->
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Monitoring Record</label
              >
              <select
                id="monitoringSelect"
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                <option value="">Select a record</option>
                <option value="MON-001247">
                  MON-001247 - TechShop Philippines
                </option>
                <option value="MON-001248">MON-001248 - Online Store 24</option>
                <option value="MON-001249">MON-001249 - Digital Hub</option>
              </select>
            </div>

            <!-- Evaluator -->
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Assign To</label
              >
              <select
                id="evaluatorSelect"
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                <option value="">Select evaluator</option>
                <option value="Maria Santos">Maria Santos</option>
                <option value="Juan Dela Cruz">Juan Dela Cruz</option>
                <option value="Ana Garcia">Ana Garcia</option>
                <option value="Jose Rodriguez">Jose Rodriguez</option>
              </select>
            </div>

            <!-- Priority -->
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Priority Level</label
              >
              <select
                id="prioritySelect"
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                <option value="normal">Normal</option>
                <option value="urgent">Urgent</option>
                <option value="low">Low</option>
              </select>
            </div>

            <!-- Notes -->
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-2"
                >Notes (Optional)</label
              >
              <textarea
                id="notesInput"
                placeholder="Add any notes..."
                class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                rows="3"
              ></textarea>
            </div>
          </div>
        </div>
        <div
          class="bg-slate-50 px-6 py-4 border-t border-slate-200 flex justify-end space-x-3"
        >
          <button
            onclick="closeModal('assignModal')"
            class="px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50"
          >
            Cancel
          </button>
          <button
            onclick="saveAssignment()"
            class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition"
          >
            Assign
          </button>
        </div>
      </div>
    </div>

    <!-- Details Modal -->
    <div id="detailsModal" class="modal">
      <div
        class="bg-white rounded-lg shadow-lg w-full max-w-2xl mx-4 max-h-screen overflow-auto"
      >
        <div
          class="sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between"
        >
          <h3 class="text-xl font-bold text-slate-900">Assignment Details</h3>
          <button
            onclick="closeModal('detailsModal')"
            class="text-slate-400 hover:text-slate-600"
          >
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <div class="p-6" id="detailsContent"></div>
        <div
          class="bg-slate-50 px-6 py-4 border-t border-slate-200 flex justify-end space-x-3"
        >
          <button
            onclick="closeModal('detailsModal')"
            class="px-4 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50"
          >
            Close
          </button>
        </div>
      </div>
    </div>

    <script>
      // Sample data
      const assignments = [
        {
          id: "ASN-001",
          monitoringId: "MON-001247",
          seller: "TechShop Philippines",
          product: "Counterfeit Electronics",
          assignedTo: "Maria Santos",
          priority: "urgent",
          status: "pending",
          assignedDate: "2025-12-12",
          dueDate: "2025-12-14",
          notes: "High priority - Multiple violations",
        },
        {
          id: "ASN-002",
          monitoringId: "MON-001246",
          seller: "Online Store 24",
          product: "Prohibited Items",
          assignedTo: "Juan Dela Cruz",
          priority: "normal",
          status: "in_progress",
          assignedDate: "2025-12-11",
          dueDate: "2025-12-15",
          notes: "Standard evaluation required",
        },
        {
          id: "ASN-003",
          monitoringId: "MON-001245",
          seller: "Digital Hub",
          product: "Fake Branded Items",
          assignedTo: "Ana Garcia",
          priority: "normal",
          status: "in_progress",
          assignedDate: "2025-12-10",
          dueDate: "2025-12-13",
          notes: "Trademark violation case",
        },
        {
          id: "ASN-004",
          monitoringId: "MON-001244",
          seller: "Smart Seller",
          product: "Counterfeit Goods",
          assignedTo: "Jose Rodriguez",
          priority: "urgent",
          status: "pending",
          assignedDate: "2025-12-09",
          dueDate: "2025-12-11",
          notes: "Escalated case - Review immediately",
        },
        {
          id: "ASN-005",
          monitoringId: "MON-001243",
          seller: "Fashion Forward PH",
          product: "Knockoff Designer Bags",
          assignedTo: "Maria Santos",
          priority: "low",
          status: "completed",
          assignedDate: "2025-12-08",
          dueDate: "2025-12-12",
          notes: "Completed evaluation",
        },
        {
          id: "ASN-006",
          monitoringId: "MON-001242",
          seller: "Value Store",
          product: "Unlicensed Software",
          assignedTo: "Juan Dela Cruz",
          priority: "normal",
          status: "completed",
          assignedDate: "2025-12-07",
          dueDate: "2025-12-10",
          notes: "Software piracy case resolved",
        },
      ];

      let filteredAssignments = [...assignments];

      // Get priority badge
      function getPriorityBadge(priority) {
        const priorityMap = {
          urgent: { color: "red", icon: "!" },
          normal: { color: "blue", icon: "-" },
          low: { color: "gray", icon: "-" },
        };
        return priorityMap[priority] || { color: "gray", icon: "-" };
      }

      // Get status badge
      function getStatusBadge(status) {
        const statusMap = {
          pending: { color: "orange", text: "Pending" },
          in_progress: { color: "blue", text: "In Progress" },
          completed: { color: "green", text: "Completed" },
        };
        return statusMap[status] || { color: "slate", text: "Unknown" };
      }

      // Render assignments
      function renderAssignments() {
        const tbody = document.getElementById("assignmentsTable");
        tbody.innerHTML = "";

        filteredAssignments.forEach((assignment) => {
          const statusBadge = getStatusBadge(assignment.status);
          const priorityBadge = getPriorityBadge(assignment.priority);
          const row = `
                    <tr class="border-b border-slate-100 hover:bg-slate-50 transition">
                        <td class="py-3 px-4 font-medium text-slate-900">${
                          assignment.id
                        }</td>
                        <td class="py-3 px-4 text-slate-700">${
                          assignment.monitoringId
                        }</td>
                        <td class="py-3 px-4 text-slate-700">${
                          assignment.assignedTo
                        }</td>
                        <td class="py-3 px-4">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${
                              priorityBadge.color
                            }-100 text-${priorityBadge.color}-800">
                                ${
                                  assignment.priority.charAt(0).toUpperCase() +
                                  assignment.priority.slice(1)
                                }
                            </span>
                        </td>
                        <td class="py-3 px-4">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${
                              statusBadge.color
                            }-100 text-${statusBadge.color}-800">
                                ${statusBadge.text}
                            </span>
                        </td>
                        <td class="py-3 px-4 text-slate-600">${
                          assignment.assignedDate
                        }</td>
                        <td class="py-3 px-4 space-x-2">
                            <button onclick="viewDetails('${
                              assignment.id
                            }')" class="text-blue-600 hover:text-blue-800 transition text-sm">
                                <i class="fas fa-eye"></i> View
                            </button>
                        </td>
                    </tr>
                `;
          tbody.innerHTML += row;
        });
      }

      // View details
      function viewDetails(assignmentId) {
        const assignment = assignments.find((a) => a.id === assignmentId);
        if (!assignment) return;

        const statusBadge = getStatusBadge(assignment.status);
        const content = `
                <div class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <p class="text-xs text-slate-600 mb-1">Assignment ID</p>
                            <p class="font-medium text-slate-900">${
                              assignment.id
                            }</p>
                        </div>
                        <div>
                            <p class="text-xs text-slate-600 mb-1">Status</p>
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${
                              statusBadge.color
                            }-100 text-${statusBadge.color}-800">
                                ${statusBadge.text}
                            </span>
                        </div>
                    </div>

                    <div class="border-t border-slate-200 pt-4">
                        <h4 class="font-bold text-slate-900 mb-3">Assignment Details</h4>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div>
                                <p class="text-slate-600">Monitoring Record</p>
                                <p class="font-medium text-slate-900">${
                                  assignment.monitoringId
                                }</p>
                            </div>
                            <div>
                                <p class="text-slate-600">Assigned To</p>
                                <p class="font-medium text-slate-900">${
                                  assignment.assignedTo
                                }</p>
                            </div>
                            <div>
                                <p class="text-slate-600">Priority</p>
                                <p class="font-medium text-slate-900">${
                                  assignment.priority.charAt(0).toUpperCase() +
                                  assignment.priority.slice(1)
                                }</p>
                            </div>
                            <div>
                                <p class="text-slate-600">Assigned Date</p>
                                <p class="font-medium text-slate-900">${
                                  assignment.assignedDate
                                }</p>
                            </div>
                            <div>
                                <p class="text-slate-600">Due Date</p>
                                <p class="font-medium text-slate-900">${
                                  assignment.dueDate
                                }</p>
                            </div>
                        </div>
                    </div>

                    <div class="border-t border-slate-200 pt-4">
                        <h4 class="font-bold text-slate-900 mb-3">Record Information</h4>
                        <div class="grid grid-cols-1 gap-4 text-sm">
                            <div>
                                <p class="text-slate-600">Seller</p>
                                <p class="font-medium text-slate-900">${
                                  assignment.seller
                                }</p>
                            </div>
                            <div>
                                <p class="text-slate-600">Product</p>
                                <p class="font-medium text-slate-900">${
                                  assignment.product
                                }</p>
                            </div>
                        </div>
                    </div>

                    <div class="border-t border-slate-200 pt-4">
                        <h4 class="font-bold text-slate-900 mb-2">Notes</h4>
                        <p class="text-slate-700 text-sm">${
                          assignment.notes
                        }</p>
                    </div>
                </div>
            `;

        document.getElementById("detailsContent").innerHTML = content;
        document.getElementById("detailsModal").classList.add("show");
      }

      // Filter assignments
      function filterAssignments() {
        const searchTerm = document
          .getElementById("searchInput")
          .value.toLowerCase();
        const statusFilter = document.getElementById("statusFilter").value;
        const priorityFilter = document.getElementById("priorityFilter").value;
        const evaluatorFilter =
          document.getElementById("evaluatorFilter").value;

        filteredAssignments = assignments.filter((assignment) => {
          const matchSearch =
            !searchTerm ||
            assignment.id.toLowerCase().includes(searchTerm) ||
            assignment.assignedTo.toLowerCase().includes(searchTerm) ||
            assignment.monitoringId.toLowerCase().includes(searchTerm);

          const matchStatus =
            !statusFilter || assignment.status === statusFilter;
          const matchPriority =
            !priorityFilter || assignment.priority === priorityFilter;
          const matchEvaluator =
            !evaluatorFilter || assignment.assignedTo === evaluatorFilter;

          return matchSearch && matchStatus && matchPriority && matchEvaluator;
        });

        renderAssignments();
      }

      // Open assign modal
      function openAssignModal() {
        document.getElementById("assignModal").classList.add("show");
      }

      // Save assignment
      function saveAssignment() {
        const monitoring = document.getElementById("monitoringSelect").value;
        const evaluator = document.getElementById("evaluatorSelect").value;
        const priority = document.getElementById("prioritySelect").value;

        if (!monitoring || !evaluator) {
          alert("Please fill all required fields");
          return;
        }

        closeModal("assignModal");
        alert("Assignment created successfully!");
        // Reset form
        document
          .getElementById("assignModal")
          .querySelectorAll("input, select, textarea")
          .forEach((el) => (el.value = ""));
      }

      // Modal functions
      function closeModal(modalId) {
        document.getElementById(modalId).classList.remove("show");
      }

      // Toggle sidebar
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        if (sidebar.style.marginLeft === "-16rem") {
          sidebar.style.marginLeft = "0";
        } else {
          sidebar.style.marginLeft = "-16rem";
        }
      }

      // Toggle submenu
      function toggleSubmenu(button) {
        const submenu = button.nextElementSibling;
        const icon = button.querySelector(".icon-rotate");

        if (submenu.classList.contains("hidden")) {
          submenu.classList.remove("hidden");
          icon.classList.add("rotated");
        } else {
          submenu.classList.add("hidden");
          icon.classList.remove("rotated");
        }
      }

      // Logout
      function logout() {
        window.location.href = "../index.html";
      }

      // Initialize
      renderAssignments();
    </script>
  </body>
</html>
